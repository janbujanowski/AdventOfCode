using AdventOfCode.Shared;
using NUnit.Framework;
using System.Threading.Tasks;

namespace AdventOfCode2018.Tests
{
    [TestFixture]
    public class TestExecutor2018
    {
        IinputProvider _inputs = new DefaultInputProvider();
        [Test]
        public void DayXStarOne()
        {
            string input =
                "428122498997587283996116951397957933569136949848379417125362532269869461185743113733992331379856446362482129646556286611543756564275715359874924898113424472782974789464348626278532936228881786273586278886575828239366794429223317476722337424399239986153675275924113322561873814364451339186918813451685263192891627186769818128715595715444565444581514677521874935942913547121751851631373316122491471564697731298951989511917272684335463436218283261962158671266625299188764589814518793576375629163896349665312991285776595142146261792244475721782941364787968924537841698538288459355159783985638187254653851864874544584878999193242641611859756728634623853475638478923744471563845635468173824196684361934269459459124269196811512927442662761563824323621758785866391424778683599179447845595931928589255935953295111937431266815352781399967295389339626178664148415561175386725992469782888757942558362117938629369129439717427474416851628121191639355646394276451847131182652486561415942815818785884559193483878139351841633366398788657844396925423217662517356486193821341454889283266691224778723833397914224396722559593959125317175899594685524852419495793389481831354787287452367145661829287518771631939314683137722493531318181315216342994141683484111969476952946378314883421677952397588613562958741328987734565492378977396431481215983656814486518865642645612413945129485464979535991675776338786758997128124651311153182816188924935186361813797251997643992686294724699281969473142721116432968216434977684138184481963845141486793996476793954226225885432422654394439882842163295458549755137247614338991879966665925466545111899714943716571113326479432925939227996799951279485722836754457737668191845914566732285928453781818792236447816127492445993945894435692799839217467253986218213131249786833333936332257795191937942688668182629489191693154184177398186462481316834678733713614889439352976144726162214648922159719979143735815478633912633185334529484779322818611438194522292278787653763328944421516569181178517915745625295158611636365253948455727653672922299582352766484";
            Assert.AreEqual(1034, new Day1().StarOne(input));
        }

        [Test]
        public void DayXStarTwo()
        {
            string input =
                "428122498997587283996116951397957933569136949848379417125362532269869461185743113733992331379856446362482129646556286611543756564275715359874924898113424472782974789464348626278532936228881786273586278886575828239366794429223317476722337424399239986153675275924113322561873814364451339186918813451685263192891627186769818128715595715444565444581514677521874935942913547121751851631373316122491471564697731298951989511917272684335463436218283261962158671266625299188764589814518793576375629163896349665312991285776595142146261792244475721782941364787968924537841698538288459355159783985638187254653851864874544584878999193242641611859756728634623853475638478923744471563845635468173824196684361934269459459124269196811512927442662761563824323621758785866391424778683599179447845595931928589255935953295111937431266815352781399967295389339626178664148415561175386725992469782888757942558362117938629369129439717427474416851628121191639355646394276451847131182652486561415942815818785884559193483878139351841633366398788657844396925423217662517356486193821341454889283266691224778723833397914224396722559593959125317175899594685524852419495793389481831354787287452367145661829287518771631939314683137722493531318181315216342994141683484111969476952946378314883421677952397588613562958741328987734565492378977396431481215983656814486518865642645612413945129485464979535991675776338786758997128124651311153182816188924935186361813797251997643992686294724699281969473142721116432968216434977684138184481963845141486793996476793954226225885432422654394439882842163295458549755137247614338991879966665925466545111899714943716571113326479432925939227996799951279485722836754457737668191845914566732285928453781818792236447816127492445993945894435692799839217467253986218213131249786833333936332257795191937942688668182629489191693154184177398186462481316834678733713614889439352976144726162214648922159719979143735815478633912633185334529484779322818611438194522292278787653763328944421516569181178517915745625295158611636365253948455727653672922299582352766484";
            Assert.AreEqual(1356, new Day1().StarTwo(input));
        }

        [Test]
        public async Task Day1StarOne()
        {
            //After feeling like you've been falling for a few minutes, you look at the device's tiny screen. "Error: Device must be calibrated before first use. Frequency drift detected.
            //Cannot maintain destination lock." Below the message, the device shows a sequence of changes in frequency(your puzzle input).A value like +6 means the current frequency increases by 6;
            //a value like - 3 means the current frequency decreases by 3.

            //    For example, if the device displays frequency changes of + 1, -2, +3, +1, then starting from a frequency of zero, the following changes would occur:

            //Current frequency  0, change of +1; resulting frequency  1.
            //    Current frequency  1, change of -2; resulting frequency -1.
            //    Current frequency -1, change of +3; resulting frequency  2.
            //    Current frequency  2, change of +1; resulting frequency  3.
            //    In this example, the resulting frequency is 3.

            //    Here are other example situations:

            //+1, +1, +1 results in  3
            //    + 1, +1, -2 results in  0
            //    - 1, -2, -3 results in -6
            //Starting with a frequency of zero, what is the resulting frequency after all of the changes in frequency have been applied?

            Assert.AreEqual(582, new Day1().StarOne(_inputs.GetInput(2018, 1)));
        }

        [Test]
        public void Day1StarTwo()
        {
            //You notice that the device repeats the same frequency change list over and over. To calibrate the device, you need to find the first frequency it reaches twice.

            //    For example, using the same list of changes above, the device would loop as follows:

            //Current frequency  0, change of +1; resulting frequency  1.
            //    Current frequency  1, change of -2; resulting frequency -1.
            //    Current frequency -1, change of +3; resulting frequency  2.
            //    Current frequency  2, change of +1; resulting frequency  3.
            //    (At this point, the device continues from the start of the list.)
            //Current frequency  3, change of +1; resulting frequency  4.
            //    Current frequency  4, change of -2; resulting frequency  2, which has already been seen.
            //    In this example, the first frequency reached twice is 2.Note that your device might need to repeat its list of frequency changes many times before a duplicate frequency is found,
            // and that duplicates might be found while in the middle of processing the list.

            //    Here are other examples:

            //+1, -1 first reaches 0 twice.
            //+ 3, +3, +4, -2, -4 first reaches 10 twice.
            //- 6, +3, +8, +5, -6 first reaches 5 twice.
            //+ 7, +7, -2, -7, -4 first reaches 14 twice.
            //    What is the first frequency your device reaches twice ?

            Assert.AreEqual(488, new Day1().StarTwo(_inputs.GetInput(2018, 1)));
        }
    }
}
